(()=>{const t={light:{"--text-color-primary":"#ff0000","--text-color-secondary":"#00ff00","--text-color-tertiary":"#536471","--background-main":"#0000ff","--background-second":"#0000ff","--background-third":"#eff3f4","--color-blue-primary":"#1d9bf0","--color-blue-hover":"#1a8cd8","--color-red-like":"#f91880","--color-green-repost":"#00ba7c","--border-color":"#eff3f4","--chat-background":"#ffffff","--chat-text":"#0f1419"},dark:{"--text-color-primary":"#ffffff","--text-color-secondary":"#71767b","--text-color-tertiary":"#8b98a5","--background-main":"#000000","--background-second":"#15202b","--background-third":"#273340","--color-blue-primary":"#1d9bf0","--color-blue-hover":"#1a8cd8","--color-red-like":"#f91880","--color-green-repost":"#00ba7c","--border-color":"#38444d","--chat-background":"#15202b","--chat-text":"#e7e9ea"}};function r(r){const e=t[r];if(!e)return;let n=document.getElementById("xtra-theme");n||(n=document.createElement("style"),n.id="xtra-theme",document.head.appendChild(n)),n.textContent=`\n        /* Root variables */\n        :root {\n            ${Object.entries(e).map((([t,r])=>`${t}: ${r};`)).join(";\n")}\n        }\n\n        /* Navigation */\n        [data-testid*="AppTabBar_"][role="link"] [dir="ltr"],\n        [role="navigation"] [dir="ltr"],\n        [data-testid*="_tab"] [dir="ltr"],\n        [data-testid="AppTabBar_More_Menu"] [dir="ltr"] {\n            color: var(--text-color-primary) !important;\n        }\n        \n        /* Main content area - primary text */\n        [data-testid="User-Name"] > div:first-child div[dir="ltr"],\n        div[data-testid="trend"] > div:first-child {\n            color: var(--text-color-primary) !important;\n        }\n\n        [data-testid="tweetText"],\n        article[data-testid="tweet"] {\n            color: var(--text-color-primary) !important;\n        }\n\n        [data-testid="User-Name"] > div:nth-child(2) div[dir="ltr"],\n        [role="button"] > div[dir="ltr"]:not([data-testid="tweetText"]) {\n            color: var(--text-color-secondary) !important;\n        }\n\n        /* Secondary text elements */\n        time,\n        [data-testid="socialContext"],\n        [role="button"] .css-146c3p1,\n        input::placeholder,\n        div[dir="ltr"][aria-hidden="true"],\n        div[dir="ltr"][aria-label*="ago"],\n        [data-testid="app-text-transition-container"],\n        div[dir="ltr"].css-146c3p1.r-14j79pv {\n            color: var(--text-color-tertiary) !important;\n        }\n\n        /* Different background sections */\n        /* Main black background */\n        body {\n            background-color: var(--background-main) !important;\n        }\n\n        /* Side sections, composer, chat backgrounds */\n        [data-testid="primaryColumn"],\n        .r-yfoy6g,\n        [data-testid="DMDrawer"],\n        [role="complementary"],\n        [data-testid="sidebarColumn"],\n        .r-18bvks7 {\n            background-color: var(--background-second) !important;\n        }\n\n        /* Third level backgrounds (replies etc) */\n        .r-1wyyakw,\n        [data-testid="reply"],\n        .r-eff27k {\n            background-color: var(--background-third) !important;\n        }\n\n        /* Brand colors & interactions */\n        [data-testid="like"] {\n            color: var(--color-red-like) !important;\n        }\n\n        [data-testid="retweet"] {\n            color: var(--color-green-repost) !important;\n        }\n\n        /* Chat elements inherit the secondary background */\n        [data-testid="DMDrawer"],\n        [data-testid="DM_conversation"] {\n            background-color: var(--background-second) !important;\n            color: var(--chat-text) !important;\n        }\n    `}chrome.runtime.onMessage.addListener(((t,e,n)=>{"themeChange"===t.type&&(r(t.theme),n({success:!0}))})),chrome.storage.sync.get(["activeTheme"],(t=>{t.activeTheme&&r(t.activeTheme)})),new MutationObserver((t=>{chrome.storage.sync.get(["activeTheme"],(t=>{t.activeTheme&&r(t.activeTheme)}))})).observe(document.body,{childList:!0,subtree:!0})})();